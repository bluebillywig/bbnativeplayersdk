<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Getting started Android native player</title>

<style>
pre code {
  background-color: #eee;
  border: 1px solid #999;
  display: block;
  padding: 20px;
}
</style>

</head>

<body>



<p><strong>1. Create a new Android project</strong><br />In Android studio, create a new Android project and select "Empty Activity". Select the language of your choice, for this example we will be using kotlin. Use BBNativePlayerExample as the project name.</p>
<p><br /><strong>2. Add the com.bluebillywig.bbnativeplayersdk:bbnativeplayersdk:&lt;version&gt; to the app/build.gradle or app/build.gradle.kts file</strong></p>

<pre><code>
plugins {
    id 'com.android.application'
    id 'kotlin-android'
}

android { ... }

dependencies {
    ....
    implementation 'com.bluebillywig.bbnativeplayersdk:bbnativeplayersdk:&lt;version&gt;'
    ....
}
</code></pre>
For build.gradle.kts this would be:
<pre><code>
plugins {
    id("com.android.application")
    kotlin("android")
}

android { ... }

dependencies {
    ....
    implementation("com.bluebillywig.bbnativeplayersdk:bbnativeplayersdk:&lt;version&gt;")
    ....
}
</code></pre>

<p>&nbsp;</p>
<p>Now wait until the gradle sync has finished.</p>

<p><br /><strong>3. Import the bbnativeplayersdk</strong><br />Next, add the bbnativeplayersdk framework to the MainActivity using an import statement beneath the existing imports.</p>
<p>Java</p>
<pre><code>
package com.bluebillywig.bbnativeplayerexample;
...
import com.bluebillywig.bbnativeplayersdk.BBNativePlayer;
import com.bluebillywig.bbnativeplayersdk.BBNativePlayerView;
</code></pre>

<p>Kotlin</p>
<pre><code>
package com.bluebillywig.bbnativeplayerexample;
...
import com.bluebillywig.bbnativeplayersdk.BBNativePlayer
import com.bluebillywig.bbnativeplayersdk.BBNativePlayerView
</code></pre>

<p><br /><strong>4. Setup a (Linear)Layout</strong><br />Next, add a LinearLayout in the parent layout in activity_main.xml.</p>
<pre><code>
    &lt;LinearLayout
            android:id="@+id/player_container"
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            app:layout_constraintEnd_toEndOf="parent"
            app:layout_constraintStart_toStartOf="parent"
            app:layout_constraintTop_toTopOf="parent"/&gt;
</code></pre>

<p><br /><strong>5. Create a BBNativePlayerView</strong><br />In the onCreate method in the MainActivity add the following code to create a BBPlayerView and add it to the current view. Use your own embed url as jsonUrl parameter</p>
<p>Java</p>
<pre><code>
package com.bluebillywig.bbnativeplayerexample;

import androidx.appcompat.app.AppCompatActivity;

import android.os.Bundle;
import android.widget.LinearLayout;
import com.bluebillywig.bbnativeplayersdk.BBNativePlayer;
import com.bluebillywig.bbnativeplayersdk.BBNativePlayerView;

public class MainActivity extends AppCompatActivity {
    private LinearLayout playerContainer;
    private BBNativePlayerView playerView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        playerContainer = findViewById(R.id.player_container);

        playerView = BBNativePlayer.Companion.createPlayerView(this, "https://demo.bbvms.com/p/native_sdk_inoutview/c/4256635.json", null);
	
	playerContainer.addView(playerView);
    }
}
</code></pre>

<p>Kotlin</p>
<pre><code>
package com.bluebillywig.bbnativeplayersdk_test

import android.os.Bundle
import android.widget.LinearLayout
import androidx.appcompat.app.AppCompatActivity
import com.bluebillywig.bbnativeplayersdk.BBNativePlayer
import com.bluebillywig.bbnativeplayersdk.BBNativePlayerView

class MainActivity : AppCompatActivity() {
    private lateinit var playerContainer: LinearLayout
    private var playerView: BBNativePlayerView? = null

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        playerContainer = findViewById&lt;LinearLayout&gt;(R.id.player_container)

        playerView = BBNativePlayer.createPlayerView(this, "https://demo.bbvms.com/p/native_sdk_inoutview/c/4256635.json")
	
	playerContainer.addView(playerView)
    }
}
</code></pre>


<p><br /><strong>5. Implement the BBNativePlayerViewDelegate</strong><br />For java this will ask if you would want to implement all methods in the BBNativePlayerViewDelegate, just say yes.</p>

<p>Java</p>
<pre><code>
public class MainActivity extends AppCompatActivity implements BBNativePlayerViewDelegate {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        ....
        playerView.delegate = this
    }
}
</code></pre>

<p>Kotlin</p>
<pre><code>
class MainActivity : AppCompatActivity(), BBNativePlayerViewDelegate {
    override fun onCreate(savedInstanceState: Bundle?) {
        ....
        playerView.setDelegate(this);
    }
}
</code></pre>


<p><strong>6. Implement BBNativePlayerViewDelegate to receive all API events</strong><br />Just a few methods are implemented here as an example. See the documentation for a full list.</p>

<p>Java</p>
<pre><code>
public class MainActivity extends AppCompatActivity implements BBNativePlayerViewDelegate {
    ...
    @Override
    public void didTriggerPlay() {
        Log.println(Log.INFO, "MainActivity", "Blue Billlywig Player: didTriggerPlay");
    }

    @Override
    public void didTriggerPause() {
        Log.println(Log.INFO, "MainActivity", "Blue Billlywig Player: didTriggerPause");
    }
    ...
}
</code></pre>

<p>Kotlin</p>
<pre><code>
class MainActivity : AppCompatActivity(), BBNativePlayerViewDelegate {
    ...
	override fun didTriggerPlaying() {
		Log.println(Log.INFO, "MainActivity", "Blue Billywig Player: didTriggerPlaying")
	}

	override fun didTriggerPause() {
		Log.println(Log.INFO, "MainActivity", "Blue Billywig Player: didTriggerPause")
	}
    ...
}
</code></pre>


<p><strong>8. Build and run the project</strong></p>
<p>For more information and example code, check out our demo app at <a href="https://github.com/bluebillywig/bbnativeplayersdk-demo" target="_blank">https://github.com/bluebillywig/bbnativeplayersdk-demo</a></p>

<p><strong>9. Testing with snapshot version</strong></p>
<p>For example: com.bluebillywig.bbnativeplayersdk:bbnativeplayersdk:&lt;version&gt;-SNAPSHOT</p>
<p>To test with a snapshot version with Android gradle plugin 4.2.2 and gradle version 6.7.1</p>
<p>Edit the root build.gradle(.kts) file and add:</p>
<pre><code>
allprojects {
    repositories {
        ...
        maven {
            url "https://s01.oss.sonatype.org/content/repositories/snapshots"
            (or .kts)
            url = "https://s01.oss.sonatype.org/content/repositories/snapshots"
        }
    }
}
</code></pre>

<p>To test with a snapshot version with Android gradle plugin 7.0 and gradle version 7.02 (and above)</p>
<p>Edit the root settings.gradle(.kts) file and add:</p>
<pre><code>
dependencyResolutionManagement {
    ...
    repositories {
        ...
        maven {
            url "https://s01.oss.sonatype.org/content/repositories/snapshots"
            (or .kts)
            url = "https://s01.oss.sonatype.org/content/repositories/snapshots"
        }
    }
}
</code></pre>

</body>
</html>
